<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/ReactJS-Practice-F88/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>B√†i t·∫≠p 1.1: Counter App</title>
    <!-- React & ReactDOM t·ª´ CDN -->
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin></script>
    <!-- Babel ƒë·ªÉ bi√™n d·ªãch JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link rel="stylesheet" href="../../assets/css/main.css" />
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      function Counter() {
        const [path, setPath] = useState("/");
        const [count, setCount] = useState(0);
        const [pressed, setPressed] = React.useState(false);

        useEffect(() => {
          const isProduct =
            window.location.hostname !== "localhost" &&
            window.location.hostname !== "127.0.0.1";
          setPath(isProduct ? "/ReactJS-Practice-F88" : "/");
        }, []);

        const calculate = (event) => {
          event.preventDefault();
          const id = event.currentTarget.id;
          setCount(
            id === "increase"
              ? count + 1
              : id === "decrease"
              ? count - 1
              : id === "reset" && 0,
          );
          setPressed(true);
          setTimeout(() => setPressed(false), 200);
        };

        const Header = () => {
          const ToggleTheme = () => {
            const [theme, setTheme] = useState(() => {
              const localTheme = localStorage.getItem("theme");
              return !localTheme ? "dark" : localTheme;
            });
            useEffect(() => {
              document.documentElement.className = theme;
            }, [theme]);
            const toggle = () => {
              const newTheme = theme === "dark" ? "light" : "dark";
              localStorage.setItem("theme", newTheme);
              setTheme(newTheme);
            };

            return (
              <button className="toggle-theme" onClick={toggle}>
                {theme === "dark" ? "üåô" : "‚òÄÔ∏è"}
              </button>
            );
          };

          return (
            <header id="header">
              <div className="header">
                <h1 className="slogan">Conquer ReactJS with F8 üöÄ </h1>
                <a className="gotoback" href={path}>
                  Home
                </a>
                <ToggleTheme />
              </div>

              <p className="desc">
                D·∫•u ·∫•n kh√°m ph√° v√† th·ª±c h√†nh ReactJS c√πng F8
                <a href="https://fullstack.edu.vn/">{` - fullstack.edu.vn - `}</a>
                H·ªçc l·∫≠p tr√¨nh ƒë·ªÉ ƒëi l√†m!
              </p>
            </header>
          );
        };

        return (
          <div className="container">
            <Header />
            <div className="exercise-content">
              <h2 className="exercise_1">B√†i t·∫≠p 1.1: Counter App</h2>
              <a
                href="https://github.com/xuanphao19/ReactJS-Practice-F88/blob/main/public/exercises/exercises_1/counter.html"
                className="repositories">
                Repositories GitHub
              </a>
              <div className="calculator">
                <p
                  className="result"
                  style={{
                    color: count > 0 ? "green" : count < 0 ? "red" : "#17171a",
                  }}>{`${count > 0 ? `+${count}` : count}`}</p>
                <button className="calc-btn" id="increase" onClick={calculate}>
                  Increase
                </button>
                <button className="calc-btn" id="decrease" onClick={calculate}>
                  Decrease
                </button>
                <button className="calc-btn" id="reset" onClick={calculate}>
                  Reset
                </button>
                <div className="electrode">
                  {count > 0 && (
                    <span className={`anode${pressed ? " pressed" : ""}`}>
                      D∆∞∆°ng
                    </span>
                  )}
                  {count < 0 && (
                    <span className={`cathode${pressed ? " pressed" : ""}`}>
                      √Çm
                    </span>
                  )}
                </div>
              </div>
            </div>
          </div>
        );
      }
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<Counter />);
    </script>
  </body>
</html>
