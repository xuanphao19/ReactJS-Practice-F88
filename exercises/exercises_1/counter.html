<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>B√†i t·∫≠p 1.1: Counter App</title>
    <!-- React & ReactDOM t·ª´ CDN -->
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin></script>
    <!-- Babel ƒë·ªÉ bi√™n d·ªãch JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link rel="stylesheet" href="../../assets/css/main.css" />
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      function Counter() {
        const [count, setCount] = useState(0);

        const calculate = (event) => {
          event.preventDefault();
          const id = event.currentTarget.id;
          setCount(
            id === "increase"
              ? count + 1
              : id === "decrease"
              ? count - 1
              : id === "reset" && 0,
          );
        };

        const Header = () => {
          const ToggleTheme = () => {
            const [theme, setTheme] = useState(() => {
              return localStorage.getItem("theme");
            });
            useEffect(() => {
              document.documentElement.classList.toggle(
                "dark",
                theme === "dark",
              );
              localStorage.setItem("theme", theme);
            }, [theme]);

            const toggle = () => {
              setTheme(theme === "dark" ? "" : "dark");
            };
            return (
              <button className="toggle-theme" onClick={toggle}>
                {theme === "dark" ? "üåô" : "‚òÄÔ∏è"}
              </button>
            );
          };

          return (
            <header id="header">
              <div className="header">
                <h1 className="slogan">Conquer ReactJS with F8 üöÄ </h1>
                <a className="gotoback" href="/ReactJS-Practice-F88/index.html">
                  Home
                </a>
                <ToggleTheme />
              </div>

              <p className="desc">
                D·∫•u ·∫•n kh√°m ph√° v√† th·ª±c h√†nh ReactJS c√πng F8
                <a href="https://fullstack.edu.vn/">{` - fullstack.edu.vn - `}</a>
                H·ªçc l·∫≠p tr√¨nh ƒë·ªÉ ƒëi l√†m!
              </p>
            </header>
          );
        };

        return (
          <div className="container">
            <Header />
            <h2 className="exercise_1">B√†i t·∫≠p 1.1: Counter App</h2>
            <div className="calculator">
              <p
                className="result"
                style={{
                  color: count > 0 ? "green" : count < 0 ? "red" : "#17171a",
                }}>{`${count > 0 ? `+${count}` : count}`}</p>
              <button className="calc-btn" id="increase" onClick={calculate}>
                Increase
              </button>
              <button className="calc-btn" id="decrease" onClick={calculate}>
                Decrease
              </button>
              <button className="calc-btn" id="reset" onClick={calculate}>
                Reset
              </button>
            </div>
          </div>
        );
      }
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<Counter />);
    </script>
  </body>
</html>
